![logo](30c29ce4cc08523ecc6e1f205bc207d0.jpeg)
# Работа с git

## 1. Проверка наличия установленного git
В терминале выполнить команду `git version`
Если git установлен, появится сообщение с информацией версии программы.
Иначе будет сообщение об ошибке.
## 2. Установка git
Загружаем посленюю версию git https://git-scm.com/downloads. Устанавливаем с настройками по умолчанию.
## 3. Настройка git
При первом использовании git необходимо предствиться.
Для этого в терминале нужно выполнить две команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```
## 4. Инициализация репозитория
Для создания нового репозитория используется команда `git init`. Данную команду выполняют только один раз для первоначальной настройки нового репозитория:  в рабочей папке создаётся новая скрытая папка **.git**

## 5. Запись изменений в репозиторий
Работа над проектом ведется по стандартной схеме «редактирование — индексирование — коммит». Сначала мы редактируем файлы в рабочем каталоге. Когда мы будем готовы сохранить проект, мы индексируем изменения командой `git add` с указанием названия и расширения файла. Затем вызываем команду `git commit`, которая записывает индексированные изменения в репозиторий. К коммиту обычно оставляют комментарий о внесённых изменениях: `git commit -m "комментарий"`. Также, можно сократить оба действия до одной команды `git commit -a -m "комментарий"`. Например, для данной инструкции запись изменений в репозиторий будет  выглядеть следующим образом:
```
git add git_instruction.md
git commit -m "Внесли изменения в пункт пять"
либо 
git commit -a -m "Внесли изменения в пункт пять"
```
 Команда `git status` показывает, какие изменения были внесены с помощью команд git add и git commit. Сообщения о состоянии также содержат инструкции по индексированию файлов либо отмене этой операции.
Если мы не проиндексировали изменения командой `git add`, название файла в строке **modified** будет выделено красным цветом, а после индексации - зелёным. 

Для просмотра изменений внесённых с момента создания крайнего коммита, нужно воспользоваться командой `git diff`. После выполнения команды, в терминале  мы можем увидеть добавленные строки (перед ними стоит плюс, выделены зелёным цветом) и удалённые строки (перед ними стоит минус, выделены красным цветом).

## 6. Просмотр истории коммитов
Для просмотра истории коммитов используется команда `git log`. Она выводит список коммитов созданных в данном репозитории в обратном хронологическом порядке. То есть самые последние коммиты показываются первыми. Также, к каждому коммиту мы можем увидеть номер версии, комментарий, его автора и дату создания.
Для выхода из команды нужно нажать клавишу __Q__.

## 7. Перемещение между сохранениями
После того как мы нашли номер версии нужного коммита в истории, для перехода к нему можно использовать команду `git checkout`. В конце команды нужно указать хотя бы первые четыре символа нужной версии коммита. Например, это может выгядеть так:
```
git checkout 3b79
```
Обратно в последнюю версию коммита можно вернуться с помощью команда `git checkout master`.

## 8. Игнорирование файлов
Для того, чтобы исключить из отслеживания репозитория определённые папки или файлы, необходимо создать файл **_.gitignore_** и записать в него из названия или шаблоны, соответствующие таким файлам или папкам.

## 9. Создание веток в git
Ветка в git - это простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов. По умолчанию, имя основной ветки в git - **master**. 
Создать ветку можно командой:
```
git branch <имя новой ветки>
```
В результате создаётся новый указатель на текущий коммит.
Список веток в репозитории можно посмотреть с помощью команды 
```
git branch
```
Текущая ветка будет отмечена звёздочкой: **\*master**
## 10. Переключение веток
Перейти на ветку, после её создания помогут команды
```
git checkout <имя ветки>
или
git switch <имя ветки>
```
Также, одновременно создать ветку и перейти на неё можно следующими командами
```
git checkout -b <имя ветки>
или
git switch -c <имя ветки>
```
## 11. Слияние веток и разрешение конфликтов
Для слияния выбранной ветки с текущей, нужно выполнить команду 
```
git merge <имя выбранной ветки>
```
Если была изменена одна и та же часть файла в обеих ветках, то может возникнуть конфликт, который потребует участия пользователя. VSCode предложит варианты его разрешения:
* Принять текущее изменение
* Принять входящее изменение
* Принять оба изменения
* Сравнить изменения
Под вариантами решения конфликта будут два блока под заголовками **HEAD (текущее изменение)** и **<название сливаемой ветки>** для визуального сравнения.
## 12. Удаление веток 
Для удаления одной ветки, нужно вначале перейти на другую ветку, а затем выполнить команду 
```
git branch -d <имя удаляемой ветки>
```
При выполнении этой команды, могут произойти следующие ошибки:

* При попытке удаления текущей ветки, отобразится ошибка вида:
```
error: Cannot delete branch 'название ветки' checked out at 'расположение папки'
```
**Решение:** если нам нужно удалить текущую ветку, то сначала нужно переключиться на какую-либо другую ветку, а затем выполнять удаление.

* При попытке удалить не слитую ветку, возникает ошибка: 
```
The branch ’имя ветки’ is not fully merged.
If you are sure you want to delete it
```
и если мы по прежнему хотим удалить ветку, то для принудительного удаления ветки можно воспользоваться опцией **-D**
```
git branch -D <имя ветки>
```
## 13. Работа с удалёнными репозиториями
Для хранения и работы с удалёнными репозиториями существует сервис GitHub. 
Для того, чтобы загрузить свой репозиторий на GitHub, нужно завести свой аккаунт. Далее, нажав на + в правом верхнем углу страницы, выбираем **New Repository**. Создаём репозиторий. После его создания, мы переходим на страницу с подсказками. Мы можем:
- Создать новый репозиторий через терминал и начать с ним работать, для этого копируем код ниже и вставляем его в терминал VSCode:
```
echo "# fff" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/ИмяВашегоАккаунта/НазваниеРепозитория.git
git push -u origin main
```
- Привязать уже существующий репозиторий к созданному удалённому репозиторию:
```
git remote add origin https://github.com/ИмяВашегоАккаунта/НазваниеРепозитория.git
git branch -M main
git push -u origin main
```
- Импортировать код из другого репозитория.
___
С помощью GitHub можно работать не только со своими репозиториями, но и с чужими. Для этого в поиске GitHub находим нужный проект и скачиваем его на свой компьютер кнопкой **Code**, в открывшемся окне копируем ссылку. Затем, в VSCode пишем в терминале:
```
git clone 'указываем ссылку'
```
Тем самым, у нас создаётся полная копия данного репозитория.
___
Для того, чтобы добавить в удалённый репозиторий свои изменения, нужно закоммитить локальный репозиторий и вызвать команду
```
git push
```
Если в удалённый репозиторий были внесены некие изменения и мы хотим обновить свою локальную версию до версии удалённой, нужно использовать команду
```
git pull
```
___
Если мы хотим поучавствовать в Open source проекте,  нужно:
1. Сделать полную копию репозитория на свой аккаунт GitHub с помощью кнопки **Fork**.
2. Делаем копию этого репозитория на своём компьютере с помощью git clone.
3. Создаём отдельную ветку с описанием нашего проекта.
4. Пишем проект.
5. Коммитим ветку с проектом и отправляем в нашу копию репозитория на GitHub с помощью git push.
6. На нашем аккаунте, в проекте появляется кнопка **Compare & pull request**, нажимая которую мы можем отправить проект в изначальный аккаунт.